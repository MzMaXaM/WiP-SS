!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t);var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,Phaser.Scene);var t,r,n,s=a(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,{key:"WelcomeScreen"})}return t=c,(r=[{key:"preload",value:function(){this.load.image("logo","../../src/assets/logo.png"),this.load.image("play","../../src/assets/play.png")}},{key:"create",value:function(){var e=this,t=this.add.image(500,180,"logo");this.tweens.add({targets:t,y:200,duration:2e3,yoyo:!0,loop:-1});var r=this.add.image(500,440,"play");r.setTint(16711680,65280,255,16711680),r.setInteractive({cursor:"hand"}),r.on("pointerdown",(function(){e.scene.start("GamePlayScreen")}))}}])&&o(t.prototype,r),n&&o(t,n),c}(),l=new Phaser.Events.EventEmitter;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,Phaser.Scene);var t,r,n,o=h(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{key:"GamePlayScreen"})}return t=i,(r=[{key:"preload",value:function(){this.load.image("tileSet","../../src/assets/yellow64x64.png"),this.load.image("springBack1","../../src/assets/bg_spring_Trees_1.png"),this.load.image("springBack2","../../src/assets/bg_spring_Trees_2.png"),this.load.tilemapTiledJSON("FirstMap","../../src/assets/mapFirst.json"),this.load.atlas("bCoin","../../src/assets/bronze_coin.png","../../src/assets/bronze_coin_atlas.json"),this.load.atlas("panda","../../src/assets/panda.png","../../src/assets/panda_atlas.json"),this.load.atlas("water","../../src/assets/water.png","../../src/assets/water_atlas.json")}},{key:"create",value:function(){this.add.image(450,310,"springBack1"),this.add.image(1230,310,"springBack2"),this.add.image(2010,310,"springBack1"),this.add.image(2790,310,"springBack2"),this.createMap(),this.createWater(),this.createPlayer(),this.createCoins(),this.scene.run("ui-scene"),this.cursors=this.input.keyboard.createCursorKeys(),this.cameras.main.setBounds(64,60,3120,576),this.cameras.main.startFollow(this.player)}},{key:"createWater",value:function(){var e=this;this.anims.create({key:"water",frames:this.anims.generateFrameNames("water",{start:1,end:14}),frameRate:8,repeat:-1}),this.water=this.add.group({classType:"water"}),this.waterLayer=this.map.getObjectLayer("Water"),this.waterLayer.objects.forEach((function(t){e.aWater=e.add.sprite(t.x+65,t.y,"water"),e.aWater.setOrigin(0),e.aWater.anims.play("water")}))}},{key:"createMap",value:function(){this.map=this.make.tilemap({key:"FirstMap"}),this.tileset=this.map.addTilesetImage("base64","tileSet"),this.ground=this.map.tilma,this.ground=this.map.createLayer("Ground",this.tileset),this.map.setCollisionByProperty({type:"c"},!0)}},{key:"createCoins",value:function(){var e=this;this.anims.create({key:"coin1",frames:this.anims.generateFrameNames("bCoin",{prefix:"bronze_coin_round_blank_",start:1,end:6}),frameRate:8,repeat:-1}),this.bCoins=this.physics.add.group({classType:"bCoin"}),this.bCoinsLayer=this.map.getObjectLayer("Coins"),this.bCoinsLayer.objects.forEach((function(t){e.bCoin=e.physics.add.sprite(t.x+.5*t.width,t.y,"bCoin"),e.bCoin.body.allowGravity=!1,e.bCoin.scale=.7,e.bCoin.setCircle(20),e.bCoin.anims.play("coin1"),e.bCoin.body.onOverlap=!0,e.physics.add.overlap(e.bCoin,e.player,e.setTheScore)}))}},{key:"setTheScore",value:function(e,t){this.count||(this.count=0),e.disableBody(!0,!0),this.count++,l.emit("update-count",this.count)}},{key:"setLives",value:function(){this.count||(this.count=3),this.count--,0==this.count?(this.scene.start("WelcomeScreen"),this.scene.stop("ui-scene")):l.emit("update-lives",this.count)}},{key:"createPlayer",value:function(){this.player=this.physics.add.sprite(150,350,"panda"),this.player.scale=.3,this.player.setFlipX(!0),this.physics.add.collider(this.player,this.ground),this.player.setBounce(.3),this.player.setCircle(100),this.player.setOffset(45,35),this.player.body.onOverlap=!0,this.anims.create({key:"playIdle",frames:[{key:"panda",frame:"idle"}],frameRate:1}),this.anims.create({key:"playRun",frames:this.anims.generateFrameNames("panda",{prefix:"run_",zeroPad:2,start:1,end:5}),frameRate:10,repeat:-1}),this.anims.create({key:"playDead",frames:this.anims.generateFrameNames("panda",{prefix:"die_",zeroPad:2,start:1,end:6}),frameRate:10})}},{key:"update",value:function(){this.cursors.down.isDown&&this.player.setVelocityY(450),this.cursors.left.isDown?(this.player.setVelocityX(-200),this.player.setFlipX(!1),this.player.setOffset(25,25),this.player.body.onFloor()&&this.player.play("playRun",!0)):this.cursors.right.isDown?(this.player.setVelocityX(200),this.player.setFlipX(!0),this.player.body.onFloor()&&this.player.play("playRun",!0)):(this.player.setVelocityX(0),this.player.body.onFloor()&&this.player.play("playIdle",!0)),this.cursors.up.isDown&&this.player.body.onFloor()&&(this.player.setVelocityY(-333),this.player.play("playIdle",!0)),this.player.y>650&&(this.setLives(),this.player.y=350,this.player.x=150)}}])&&p(t.prototype,r),n&&p(t,n),i}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,Phaser.Scene);var t,r,n,o=w(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,{key:"GameOver"})}return t=i,(r=[{key:"preload",value:function(){this.load.image("logo","../../src/assets/logo.png"),this.load.image("play","../../src/assets/play.png")}},{key:"create",value:function(){var e=this,t=this.add.image(500,180,"logo");this.tweens.add({targets:t,y:200,duration:2e3,yoyo:!0,loop:-1});var r=this.add.image(500,440,"play");r.setTint(16711680,65280,255,16711680),r.setInteractive({cursor:"hand"}),r.on("pointerdown",(function(){e.scene.start("GamePlayScreen")}))}}])&&g(t.prototype,r),n&&g(t,n),i}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=x(e);if(t){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return T(this,r)}}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,Phaser.Scene);var t,r,n,o=C(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,"ui-scene")}return t=i,(r=[{key:"create",value:function(){var e=this;this.score=this.add.text(840,455,"Score: 0",{fontFamily:'Georgia, "Goudy Bookletter 1911", Times, serif',color:"#A52A2A",fontSize:35}),l.on("update-count",this.updateCount,this),this.events.on(Phaser.Scenes.Events.SHUTDOWN,(function(){l.off("update-count",e.updateCount,e)})),this.lives=this.add.text(640,455,"Lives: 3",{fontFamily:'Georgia, "Goudy Bookletter 1911", Times, serif',color:"#A52A2A",fontSize:35}),l.on("update-lives",this.updateLives,this),this.events.on(Phaser.Scenes.Events.SHUTDOWN,(function(){l.off("update-lives",e.updateLives,e)}))}},{key:"updateCount",value:function(e){this.score.text="Score: ".concat(e)}},{key:"updateLives",value:function(e){this.lives.text="Lives: ".concat(e)}}])&&k(t.prototype,r),n&&k(t,n),i}(),E={type:Phaser.AUTO,width:1e3,height:500,physics:{default:"arcade",arcade:{gravity:{y:400},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[u,m,B,l,P]};new Phaser.Game(E)}]);